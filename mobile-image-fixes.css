/* ====== MOBILE IMAGE DISPLAY FIXES ====== */
/* ÿ≠ŸÑ ŸÖÿ¥ŸÉŸÑÿ© ÿßÿÆÿ™ŸÅÿßÿ° ÿßŸÑÿµŸàÿ± ÿπŸÑŸâ ÿ£ÿ¨Ÿáÿ≤ÿ© ÿßŸÑŸÖŸàÿ®ÿßŸäŸÑ */

/* ===== CRITICAL MOBILE IMAGE VISIBILITY ===== */

/* ÿ•ÿ¨ÿ®ÿßÿ± ÿπÿ±ÿ∂ ÿ¨ŸÖŸäÿπ ÿßŸÑÿµŸàÿ± ÿπŸÑŸâ ÿßŸÑŸÖŸàÿ®ÿßŸäŸÑ */
@media screen and (max-width: 768px) {
    /* Profile Image Critical Fixes */
    .profile-img,
    .image-container img,
    img[src*="profile"],
    img[alt*="ÿπÿ®ÿØ ÿßŸÑŸÑŸá"] {
        display: block !important;
        visibility: visible !important;
        opacity: 1 !important;
        width: 100% !important;
        max-width: 280px !important;
        height: auto !important;
        aspect-ratio: 1/1 !important;
        object-fit: cover !important;
        border-radius: 50% !important;
        margin: 0 auto !important;
        position: relative !important;
        z-index: 10 !important;
        background: #f8f9fa !important;
        transform: none !important;
    }

    /* Hero Image Container */
    .hero-image {
        display: flex !important;
        visibility: visible !important;
        justify-content: center !important;
        align-items: center !important;
        width: 100% !important;
        margin: 0 auto 2rem auto !important;
        order: -1 !important;
        min-height: 300px !important;
    }

    .image-container {
        display: block !important;
        visibility: visible !important;
        width: 100% !important;
        max-width: 300px !important;
        margin: 0 auto !important;
        position: relative !important;
        background: transparent !important;
    }

    /* Portfolio Project Images */
    .portfolio-image img,
    .project-image img {
        display: block !important;
        visibility: visible !important;
        opacity: 1 !important;
        width: 100% !important;
        height: auto !important;
        min-height: 200px !important;
        object-fit: cover !important;
        background: linear-gradient(45deg, #f8f9fa, #e9ecef) !important;
    }

    /* Certificate Images */
    .certificate-image img,
    .certificate-card img {
        display: block !important;
        visibility: visible !important;
        opacity: 1 !important;
        width: 100% !important;
        height: 200px !important;
        object-fit: cover !important;
        background: #f8f9fa !important;
        border-radius: 8px 8px 0 0 !important;
    }

    /* All Images General Fix */
    img {
        display: block !important;
        visibility: visible !important;
        opacity: 1 !important;
        max-width: 100% !important;
        height: auto !important;
        image-rendering: auto !important;
        -webkit-image-rendering: auto !important;
        -moz-image-rendering: auto !important;
        -o-image-rendering: auto !important;
        position: relative !important;
        z-index: 1 !important;
    }

    /* Fix for lazy loading issues */
    img[loading="lazy"] {
        loading: eager !important;
    }

    /* Prevent images from being hidden by CSS transforms */
    img {
        transform: none !important;
        -webkit-transform: none !important;
        -moz-transform: none !important;
        -o-transform: none !important;
    }

    /* Image containers must be visible */
    .portfolio-image,
    .project-image,
    .certificate-image,
    .hero-image,
    .image-container {
        display: block !important;
        visibility: visible !important;
        opacity: 1 !important;
        overflow: visible !important;
        position: relative !important;
        background: transparent !important;
    }

    /* Override any hidden styles */
    .hidden,
    .d-none,
    [style*="display: none"],
    [style*="visibility: hidden"],
    [style*="opacity: 0"] {
        display: block !important;
        visibility: visible !important;
        opacity: 1 !important;
    }

    /* Fix for WebKit mobile rendering issues */
    img {
        -webkit-backface-visibility: hidden !important;
        -webkit-perspective: 1000 !important;
        -webkit-transform: translate3d(0,0,0) !important;
        transform: translate3d(0,0,0) !important;
    }
}

/* ===== SMALL MOBILE DEVICES ===== */
@media screen and (max-width: 480px) {
    .profile-img {
        max-width: 250px !important;
        height: 250px !important;
    }

    .image-container {
        max-width: 270px !important;
    }

    .portfolio-image img,
    .project-image img {
        min-height: 180px !important;
    }
}

/* ===== VERY SMALL DEVICES ===== */
@media screen and (max-width: 375px) {
    .profile-img {
        max-width: 220px !important;
        height: 220px !important;
    }

    .image-container {
        max-width: 240px !important;
    }
}

/* ===== IMAGE LOADING STATES ===== */
@media screen and (max-width: 768px) {
    /* Loading placeholder for images */
    img:not([src]) {
        background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%) !important;
        background-size: 200% 100% !important;
        animation: shimmer 1.5s infinite !important;
    }

    @keyframes shimmer {
        0% { background-position: -200% 0; }
        100% { background-position: 200% 0; }
    }

    /* Error state for broken images */
    img[src]:after {
        content: "üñºÔ∏è ÿµŸàÿ±ÿ©" !important;
        display: block !important;
        position: absolute !important;
        top: 50% !important;
        left: 50% !important;
        transform: translate(-50%, -50%) !important;
        background: #f8f9fa !important;
        padding: 1rem !important;
        border-radius: 8px !important;
        color: #6c757d !important;
        font-size: 14px !important;
        text-align: center !important;
    }
}

/* ===== HIGH DPI MOBILE SCREENS ===== */
@media screen and (max-width: 768px) and (-webkit-min-device-pixel-ratio: 2) {
    img {
        image-rendering: -webkit-optimize-contrast !important;
        image-rendering: crisp-edges !important;
    }
}

/* ===== TOUCH OPTIMIZATION ===== */
@media screen and (max-width: 768px) and (pointer: coarse) {
    .profile-img {
        touch-action: manipulation !important;
        user-select: none !important;
        -webkit-user-select: none !important;
        -webkit-touch-callout: none !important;
    }

    /* Prevent image context menus on touch */
    img {
        -webkit-touch-callout: none !important;
        -webkit-user-select: none !important;
        -khtml-user-select: none !important;
        -moz-user-select: none !important;
        -ms-user-select: none !important;
        user-select: none !important;
        pointer-events: auto !important;
    }
}

/* ===== FINAL MOBILE IMAGE OPTIMIZATIONS ===== */
@media screen and (max-width: 768px) {
    /* Clean final styling for mobile images */
    .image-container {
        background: transparent !important;
        border: none !important;
        outline: none !important;
    }

    .profile-img {
        border: 4px solid rgba(255, 255, 255, 0.9) !important;
        box-shadow: 
            0 15px 35px rgba(102, 126, 234, 0.25),
            0 8px 16px rgba(118, 75, 162, 0.15) !important;
    }

    /* Ensure smooth loading transition */
    .profile-img.loaded {
        animation: fadeInScale 0.6s ease-out !important;
    }

    @keyframes fadeInScale {
        0% {
            opacity: 0;
            transform: scale(0.9);
        }
        100% {
            opacity: 1;
            transform: scale(1);
        }
    }
}

/* ===== FORCE VISIBILITY FOR ALL BROWSERS ===== */
@media screen and (max-width: 768px) {
    /* Override any browser-specific hiding */
    img {
        -webkit-appearance: none !important;
        -moz-appearance: none !important;
        appearance: none !important;
        
        /* Force rendering */
        will-change: auto !important;
        contain: none !important;
        
        /* Ensure no CSS filters hide images */
        filter: none !important;
        -webkit-filter: none !important;
        
        /* Prevent clipping */
        clip: auto !important;
        -webkit-clip-path: none !important;
        clip-path: none !important;
        
        /* Ensure proper stacking */
        isolation: auto !important;
        mix-blend-mode: normal !important;
    }
}

/* ===== LANDSCAPE MOBILE ORIENTATION ===== */
@media screen and (max-width: 768px) and (orientation: landscape) {
    .profile-img {
        max-width: 200px !important;
        height: 200px !important;
    }
    
    .hero-image {
        margin-bottom: 1rem !important;
        min-height: 220px !important;
    }
}

/* ===== iOS SAFARI SPECIFIC FIXES ===== */
@supports (-webkit-touch-callout: none) {
    @media screen and (max-width: 768px) {
        img {
            -webkit-user-drag: none !important;
            -webkit-transform: translateZ(0) !important;
            transform: translateZ(0) !important;
        }
        
        .profile-img {
            border-radius: 50% !important;
            -webkit-border-radius: 50% !important;
        }
    }
}

/* ===== ANDROID CHROME SPECIFIC FIXES ===== */
@media screen and (max-width: 768px) {
    @supports (display: -webkit-box) {
        img {
            -webkit-box-sizing: border-box !important;
            box-sizing: border-box !important;
        }
    }
}
