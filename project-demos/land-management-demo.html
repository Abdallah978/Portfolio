<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù†Ù…ÙˆØ°Ø¬ Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø±Ø§Ø¶ÙŠ Ø§Ù„Ø²Ø±Ø§Ø¹ÙŠØ©</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);
            min-height: 100vh;
            color: #333;
            overflow-x: hidden;
        }

        .demo-container {
            max-width: 1200px;
            margin: 20px auto;
            background: #fff;
            border-radius: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
            overflow: hidden;
            position: relative;
            animation: slideUp 0.6s ease-out;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .close-btn {
            position: absolute;
            top: 20px;
            left: 30px;
            background: rgba(255,255,255,0.9);
            border: none;
            color: #333;
            padding: 10px 15px;
            border-radius: 20px;
            cursor: pointer;
            z-index: 1000;
            transition: all 0.3s ease;
            box-shadow: 0 3px 15px rgba(0,0,0,0.1);
        }

        .close-btn:hover {
            background: rgba(255,255,255,1);
            transform: scale(1.05);
        }

        .header {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
            padding: 40px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="farm" width="25" height="25" patternUnits="userSpaceOnUse"><path d="M12.5 0L25 12.5L12.5 25L0 12.5Z" fill="none" stroke="white" stroke-width="0.5" opacity="0.1"/></pattern></defs><rect width="100" height="100" fill="url(%23farm)"/></svg>');
        }

        .header h1 {
            font-size: 36px;
            margin-bottom: 10px;
            position: relative;
            z-index: 1;
        }

        .header p {
            font-size: 18px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }

        .dashboard {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 30px;
            padding: 40px;
        }

        .sidebar {
            background: #f8f9fa;
            border-radius: 20px;
            padding: 30px;
        }

        .sidebar-title {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 20px;
            color: #2c3e50;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .farm-stats {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .stat-item {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 3px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .stat-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .stat-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .stat-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
        }

        .icon-area { background: linear-gradient(135deg, #3498db, #2980b9); }
        .icon-crop { background: linear-gradient(135deg, #f39c12, #e67e22); }
        .icon-water { background: linear-gradient(135deg, #3498db, #2ecc71); }
        .icon-soil { background: linear-gradient(135deg, #8e44ad, #9b59b6); }

        .stat-value {
            font-size: 24px;
            font-weight: bold;
            color: #2c3e50;
        }

        .stat-label {
            font-size: 14px;
            color: #666;
            margin-top: 5px;
        }

        .main-content {
            display: flex;
            flex-direction: column;
            gap: 30px;
        }

        .map-section {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .section-title {
            font-size: 22px;
            font-weight: bold;
            margin-bottom: 20px;
            color: #2c3e50;
            display: flex;
            align-items: center;
            justify-content: between;
            gap: 10px;
        }

        .map-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .control-btn {
            padding: 8px 15px;
            border: none;
            border-radius: 20px;
            background: #f8f9fa;
            color: #333;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
        }

        .control-btn:hover {
            background: #27ae60;
            color: white;
        }

        .control-btn.active {
            background: #27ae60;
            color: white;
        }

        .farm-map {
            width: 100%;
            height: 300px;
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            border-radius: 15px;
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }

        .farm-map::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 300"><defs><pattern id="field-grid" width="40" height="30" patternUnits="userSpaceOnUse"><rect width="40" height="30" fill="none" stroke="white" stroke-width="1" opacity="0.3"/></pattern></defs><rect width="400" height="300" fill="url(%23field-grid)"/></svg>');
        }

        .field-zone {
            position: absolute;
            border: 2px solid white;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            text-shadow: 0 2px 5px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .field-zone:hover {
            transform: scale(1.05);
            border-color: #f39c12;
            background: rgba(255,255,255,0.2);
        }

        .zone-1 {
            top: 10%;
            left: 10%;
            width: 35%;
            height: 35%;
            background: rgba(241, 196, 15, 0.3);
        }

        .zone-2 {
            top: 10%;
            right: 10%;
            width: 45%;
            height: 35%;
            background: rgba(46, 204, 113, 0.3);
        }

        .zone-3 {
            bottom: 10%;
            left: 10%;
            width: 40%;
            height: 40%;
            background: rgba(52, 152, 219, 0.3);
        }

        .zone-4 {
            bottom: 10%;
            right: 10%;
            width: 35%;
            height: 40%;
            background: rgba(155, 89, 182, 0.3);
        }

        .crops-analysis {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .crops-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .crop-card {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            border: 2px solid transparent;
        }

        .crop-card:hover {
            transform: translateY(-5px);
            border-color: #27ae60;
            background: white;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        .crop-icon {
            font-size: 40px;
            margin-bottom: 15px;
        }

        .crop-name {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 10px;
            color: #2c3e50;
        }

        .crop-health {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
            margin-bottom: 10px;
        }

        .health-excellent { color: #2ecc71; }
        .health-good { color: #f39c12; }
        .health-poor { color: #e74c3c; }

        .crop-progress {
            width: 100%;
            height: 6px;
            background: #ecf0f1;
            border-radius: 3px;
            overflow: hidden;
            margin-top: 10px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #27ae60, #2ecc71);
            border-radius: 3px;
            transition: width 2s ease-out;
        }

        .weather-widget {
            position: fixed;
            top: 100px;
            right: 20px;
            background: rgba(255,255,255,0.95);
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            min-width: 200px;
            opacity: 0;
            animation: slideInRight 1s ease-out 1s both;
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .weather-title {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 15px;
            color: #2c3e50;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .weather-info {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .weather-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #ecf0f1;
        }

        .weather-item:last-child {
            border-bottom: none;
        }

        .weather-icon {
            font-size: 18px;
            width: 25px;
            text-align: center;
        }

        .irrigation-alerts {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
        }

        .alert-title {
            font-weight: bold;
            color: #856404;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .alert-message {
            color: #856404;
            font-size: 14px;
            line-height: 1.5;
        }

        .tech-info {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 15px 20px;
            border-radius: 15px;
            font-size: 14px;
            max-width: 300px;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .tech-info.show {
            opacity: 1;
            transform: translateY(0);
        }

        @media (max-width: 768px) {
            .demo-container {
                margin: 10px;
                border-radius: 20px;
            }

            .dashboard {
                grid-template-columns: 1fr;
                gap: 20px;
                padding: 20px;
            }

            .crops-grid {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
                gap: 15px;
            }

            .weather-widget {
                position: static;
                margin: 20px 0;
                opacity: 1;
                animation: none;
            }

            .header h1 {
                font-size: 28px;
            }
        }
    </style>
</head>
<body>
    <div class="demo-container">
        <button class="close-btn" onclick="closeDemo()">
            <i class="fas fa-times"></i> Ø¥ØºÙ„Ø§Ù‚
        </button>

        <!-- Header -->
        <div class="header">
            <h1>ğŸŒ¾ Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø±Ø§Ø¶ÙŠ Ø§Ù„Ø²Ø±Ø§Ø¹ÙŠØ©</h1>
            <p>ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø£Ø±Ø§Ø¶ÙŠ Ø§Ù„Ø²Ø±Ø§Ø¹ÙŠØ© ÙˆÙ…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ù…Ø­Ø§ØµÙŠÙ„ Ø¨ØªÙ‚Ù†ÙŠØ© Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</p>
        </div>

        <!-- Dashboard -->
        <div class="dashboard">
            <!-- Sidebar -->
            <div class="sidebar">
                <div class="sidebar-title">
                    <i class="fas fa-chart-pie"></i>
                    Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø²Ø±Ø¹Ø©
                </div>
                <div class="farm-stats">
                    <div class="stat-item" onclick="showAreaDetails()">
                        <div class="stat-header">
                            <div class="stat-icon icon-area">
                                <i class="fas fa-expand-arrows-alt"></i>
                            </div>
                            <div class="stat-value">250</div>
                        </div>
                        <div class="stat-label">Ù‡ÙƒØªØ§Ø± - Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø³Ø§Ø­Ø©</div>
                    </div>

                    <div class="stat-item" onclick="showCropDetails()">
                        <div class="stat-header">
                            <div class="stat-icon icon-crop">
                                <i class="fas fa-seedling"></i>
                            </div>
                            <div class="stat-value">85%</div>
                        </div>
                        <div class="stat-label">Ù†Ø³Ø¨Ø© Ø§Ù„Ø²Ø±Ø§Ø¹Ø© Ø§Ù„Ù†Ø´Ø·Ø©</div>
                    </div>

                    <div class="stat-item" onclick="showWaterDetails()">
                        <div class="stat-header">
                            <div class="stat-icon icon-water">
                                <i class="fas fa-tint"></i>
                            </div>
                            <div class="stat-value">92%</div>
                        </div>
                        <div class="stat-label">ÙƒÙØ§Ø¡Ø© Ù†Ø¸Ø§Ù… Ø§Ù„Ø±ÙŠ</div>
                    </div>

                    <div class="stat-item" onclick="showSoilDetails()">
                        <div class="stat-header">
                            <div class="stat-icon icon-soil">
                                <i class="fas fa-mountain"></i>
                            </div>
                            <div class="stat-value">Ø¬ÙŠØ¯</div>
                        </div>
                        <div class="stat-label">Ø­Ø§Ù„Ø© Ø®ØµÙˆØ¨Ø© Ø§Ù„ØªØ±Ø¨Ø©</div>
                    </div>
                </div>

                <!-- Irrigation Alerts -->
                <div class="irrigation-alerts">
                    <div class="alert-title">
                        <i class="fas fa-exclamation-triangle"></i>
                        ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ø±ÙŠ
                    </div>
                    <div class="alert-message">
                        Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù‚Ù…Ø­ ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ø±ÙŠ Ø®Ù„Ø§Ù„ 6 Ø³Ø§Ø¹Ø§Øª. Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø±Ø·ÙˆØ¨Ø©: 35%
                    </div>
                </div>
            </div>

            <!-- Main Content -->
            <div class="main-content">
                <!-- Farm Map -->
                <div class="map-section">
                    <div class="section-title">
                        <i class="fas fa-map"></i>
                        Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ù…Ø²Ø±Ø¹Ø© Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ©
                    </div>
                    <div class="map-controls">
                        <button class="control-btn active" onclick="changeMapView('satellite')">Ø§Ù„Ù‚Ù…Ø± Ø§Ù„ØµÙ†Ø§Ø¹ÙŠ</button>
                        <button class="control-btn" onclick="changeMapView('ndvi')">Ù…Ø¤Ø´Ø± NDVI</button>
                        <button class="control-btn" onclick="changeMapView('moisture')">Ø§Ù„Ø±Ø·ÙˆØ¨Ø©</button>
                        <button class="control-btn" onclick="changeMapView('elevation')">Ø§Ù„ØªØ¶Ø§Ø±ÙŠØ³</button>
                    </div>
                    <div class="farm-map" onclick="expandMap()">
                        <div class="field-zone zone-1" onclick="selectZone(event, 'zone1')">
                            <div>ğŸŒ¾ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù‚Ù…Ø­<br>75 Ù‡ÙƒØªØ§Ø±</div>
                        </div>
                        <div class="field-zone zone-2" onclick="selectZone(event, 'zone2')">
                            <div>ğŸŒ½ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø°Ø±Ø©<br>60 Ù‡ÙƒØªØ§Ø±</div>
                        </div>
                        <div class="field-zone zone-3" onclick="selectZone(event, 'zone3')">
                            <div>ğŸ¥• Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø®Ø¶Ø§Ø±<br>50 Ù‡ÙƒØªØ§Ø±</div>
                        </div>
                        <div class="field-zone zone-4" onclick="selectZone(event, 'zone4')">
                            <div>ğŸŒ» Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø²Ù‡ÙˆØ±<br>40 Ù‡ÙƒØªØ§Ø±</div>
                        </div>
                    </div>
                </div>

                <!-- Crops Analysis -->
                <div class="crops-analysis">
                    <div class="section-title">
                        <i class="fas fa-chart-line"></i>
                        ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ø­Ø§ØµÙŠÙ„
                    </div>
                    <div class="crops-grid">
                        <div class="crop-card" onclick="analyzeCrop('wheat')">
                            <div class="crop-icon">ğŸŒ¾</div>
                            <div class="crop-name">Ø§Ù„Ù‚Ù…Ø­</div>
                            <div class="crop-health health-excellent">
                                <i class="fas fa-heart"></i>
                                Ù…Ù…ØªØ§Ø²
                            </div>
                            <div class="crop-progress">
                                <div class="progress-fill" style="width: 85%;"></div>
                            </div>
                        </div>

                        <div class="crop-card" onclick="analyzeCrop('corn')">
                            <div class="crop-icon">ğŸŒ½</div>
                            <div class="crop-name">Ø§Ù„Ø°Ø±Ø©</div>
                            <div class="crop-health health-good">
                                <i class="fas fa-heart"></i>
                                Ø¬ÙŠØ¯
                            </div>
                            <div class="crop-progress">
                                <div class="progress-fill" style="width: 70%;"></div>
                            </div>
                        </div>

                        <div class="crop-card" onclick="analyzeCrop('vegetables')">
                            <div class="crop-icon">ğŸ¥•</div>
                            <div class="crop-name">Ø§Ù„Ø®Ø¶Ø§Ø±</div>
                            <div class="crop-health health-excellent">
                                <i class="fas fa-heart"></i>
                                Ù…Ù…ØªØ§Ø²
                            </div>
                            <div class="crop-progress">
                                <div class="progress-fill" style="width: 92%;"></div>
                            </div>
                        </div>

                        <div class="crop-card" onclick="analyzeCrop('flowers')">
                            <div class="crop-icon">ğŸŒ»</div>
                            <div class="crop-name">Ø§Ù„Ø²Ù‡ÙˆØ±</div>
                            <div class="crop-health health-good">
                                <i class="fas fa-heart"></i>
                                Ø¬ÙŠØ¯
                            </div>
                            <div class="crop-progress">
                                <div class="progress-fill" style="width: 78%;"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Weather Widget -->
        <div class="weather-widget">
            <div class="weather-title">
                <i class="fas fa-cloud-sun"></i>
                Ø§Ù„Ø·Ù‚Ø³ Ø§Ù„ÙŠÙˆÙ…
            </div>
            <div class="weather-info">
                <div class="weather-item">
                    <span><i class="weather-icon fas fa-thermometer-half"></i> Ø§Ù„Ø­Ø±Ø§Ø±Ø©</span>
                    <span>28Â°Ù…</span>
                </div>
                <div class="weather-item">
                    <span><i class="weather-icon fas fa-tint"></i> Ø§Ù„Ø±Ø·ÙˆØ¨Ø©</span>
                    <span>65%</span>
                </div>
                <div class="weather-item">
                    <span><i class="weather-icon fas fa-wind"></i> Ø§Ù„Ø±ÙŠØ§Ø­</span>
                    <span>15 ÙƒÙ…/Ø³</span>
                </div>
                <div class="weather-item">
                    <span><i class="weather-icon fas fa-cloud-rain"></i> Ø§Ù„Ø£Ù…Ø·Ø§Ø±</span>
                    <span>20%</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Technology Info -->
    <div class="tech-info" id="techInfo">
        <strong>ğŸšœ Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©:</strong><br>
        â€¢ GIS Analysis<br>
        â€¢ PostGIS Database<br>
        â€¢ Agriculture Technology<br>
        â€¢ Python Analytics<br>
        â€¢ NDVI Monitoring
    </div>

    <script>
        // Show tech info on load
        setTimeout(() => {
            document.getElementById('techInfo').classList.add('show');
        }, 1000);

        // Hide tech info after 5 seconds
        setTimeout(() => {
            document.getElementById('techInfo').classList.remove('show');
        }, 6000);

        function closeDemo() {
            window.parent.postMessage('closeModal', '*');
        }

        function showAreaDetails() {
            showNotification('Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø³Ø§Ø­Ø©: 250 Ù‡ÙƒØªØ§Ø± - Ù…Ù‚Ø³Ù…Ø© Ø¥Ù„Ù‰ 4 Ù…Ù†Ø§Ø·Ù‚ Ø²Ø±Ø§Ø¹ÙŠØ© ğŸŒ¾');
        }

        function showCropDetails() {
            showNotification('85% Ù…Ù† Ø§Ù„Ø£Ø±Ø§Ø¶ÙŠ Ù‚ÙŠØ¯ Ø§Ù„Ø²Ø±Ø§Ø¹Ø© Ø§Ù„Ù†Ø´Ø·Ø© - Ù…Ø¹Ø¯Ù„ Ù†Ù…Ùˆ Ù…Ù…ØªØ§Ø² ğŸ“ˆ');
        }

        function showWaterDetails() {
            showNotification('ÙƒÙØ§Ø¡Ø© Ø§Ù„Ø±ÙŠ: 92% - ØªÙˆÙÙŠØ± 30% Ù…Ù† Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ Ø§Ù„Ù…ÙŠØ§Ù‡ ğŸ’§');
        }

        function showSoilDetails() {
            showNotification('Ø®ØµÙˆØ¨Ø© Ø§Ù„ØªØ±Ø¨Ø©: Ø¬ÙŠØ¯Ø© - pH Ù…ØªÙˆØ§Ø²Ù† ÙˆÙ…ØºØ°ÙŠØ§Øª ÙƒØ§ÙÙŠØ© ğŸŒ±');
        }

        function changeMapView(view) {
            // Remove active class from all buttons
            document.querySelectorAll('.control-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Add active class to clicked button
            event.target.classList.add('active');
            
            const map = document.querySelector('.farm-map');
            const views = {
                'satellite': { bg: 'linear-gradient(135deg, #27ae60, #2ecc71)', name: 'Ø¹Ø±Ø¶ Ø§Ù„Ù‚Ù…Ø± Ø§Ù„ØµÙ†Ø§Ø¹ÙŠ' },
                'ndvi': { bg: 'linear-gradient(135deg, #e74c3c, #f39c12, #2ecc71)', name: 'Ù…Ø¤Ø´Ø± Ø§Ù„Ù†Ù…Ùˆ Ø§Ù„Ù†Ø¨Ø§ØªÙŠ' },
                'moisture': { bg: 'linear-gradient(135deg, #3498db, #2ecc71)', name: 'Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ø±Ø·ÙˆØ¨Ø©' },
                'elevation': { bg: 'linear-gradient(135deg, #8e44ad, #3498db)', name: 'Ø®Ø±ÙŠØ·Ø© Ø§Ù„ØªØ¶Ø§Ø±ÙŠØ³' }
            };
            
            map.style.background = views[view].bg;
            showNotification(`ØªÙ… ØªØºÙŠÙŠØ± Ø§Ù„Ø¹Ø±Ø¶ Ø¥Ù„Ù‰: ${views[view].name} ğŸ—ºï¸`);
        }

        function selectZone(event, zone) {
            event.stopPropagation();
            
            const zones = {
                'zone1': { name: 'Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù‚Ù…Ø­', crop: 'ğŸŒ¾', area: '75 Ù‡ÙƒØªØ§Ø±', status: 'Ø¬Ø§Ù‡Ø² Ù„Ù„Ø­ØµØ§Ø¯ Ø®Ù„Ø§Ù„ Ø£Ø³Ø¨ÙˆØ¹ÙŠÙ†' },
                'zone2': { name: 'Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø°Ø±Ø©', crop: 'ğŸŒ½', area: '60 Ù‡ÙƒØªØ§Ø±', status: 'ÙÙŠ Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ù†Ù…Ùˆ Ø§Ù„Ù…ØªÙˆØ³Ø·' },
                'zone3': { name: 'Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø®Ø¶Ø§Ø±', crop: 'ğŸ¥•', area: '50 Ù‡ÙƒØªØ§Ø±', status: 'Ù†Ù…Ùˆ Ù…Ù…ØªØ§Ø² ÙˆÙ…Ø­ØµÙˆÙ„ ÙˆÙÙŠØ±' },
                'zone4': { name: 'Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø²Ù‡ÙˆØ±', crop: 'ğŸŒ»', area: '40 Ù‡ÙƒØªØ§Ø±', status: 'Ø¨Ø¯Ø§ÙŠØ© Ù…ÙˆØ³Ù… Ø§Ù„Ø¥Ø²Ù‡Ø§Ø±' }
            };
            
            const zoneInfo = zones[zone];
            showNotification(`${zoneInfo.name} ${zoneInfo.crop} - ${zoneInfo.area}: ${zoneInfo.status}`);
        }

        function expandMap() {
            showNotification('ØªÙˆØ³ÙŠØ¹ Ø§Ù„Ø®Ø±ÙŠØ·Ø© - Ø¹Ø±Ø¶ ØªÙØµÙŠÙ„ÙŠ Ù„Ù„Ù…Ø²Ø±Ø¹Ø© ğŸ”');
            
            const map = document.querySelector('.farm-map');
            map.style.transform = 'scale(1.02)';
            setTimeout(() => {
                map.style.transform = 'scale(1)';
            }, 300);
        }

        function analyzeCrop(crop) {
            const crops = {
                'wheat': {
                    name: 'Ø§Ù„Ù‚Ù…Ø­',
                    icon: 'ğŸŒ¾',
                    analysis: 'Ù†Ù…Ùˆ Ù…Ù…ØªØ§Ø² - Ù…ØªÙˆÙ‚Ø¹ Ø­ØµØ§Ø¯ 4.2 Ø·Ù†/Ù‡ÙƒØªØ§Ø± - Ø¬ÙˆØ¯Ø© Ø¹Ø§Ù„ÙŠØ©'
                },
                'corn': {
                    name: 'Ø§Ù„Ø°Ø±Ø©', 
                    icon: 'ğŸŒ½',
                    analysis: 'Ù†Ù…Ùˆ Ø¬ÙŠØ¯ - ÙŠØ­ØªØ§Ø¬ Ø²ÙŠØ§Ø¯Ø© ÙÙŠ Ø§Ù„Ø±ÙŠ - Ù…ØªÙˆÙ‚Ø¹ 3.8 Ø·Ù†/Ù‡ÙƒØªØ§Ø±'
                },
                'vegetables': {
                    name: 'Ø§Ù„Ø®Ø¶Ø§Ø±',
                    icon: 'ğŸ¥•',
                    analysis: 'Ø­Ø§Ù„Ø© Ù…Ù…ØªØ§Ø²Ø© - Ù†Ù…Ùˆ Ø³Ø±ÙŠØ¹ ÙˆÙ…Ù†ØªØ¸Ù… - Ø¬Ø§Ù‡Ø² Ù„Ù„Ù‚Ø·Ù'
                },
                'flowers': {
                    name: 'Ø§Ù„Ø²Ù‡ÙˆØ±',
                    icon: 'ğŸŒ»',
                    analysis: 'Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ø¥Ø²Ù‡Ø§Ø± - Ø£Ù„ÙˆØ§Ù† Ø²Ø§Ù‡ÙŠØ© - Ù…Ù†Ø§Ø³Ø¨ Ù„Ù„Ø¨ÙŠØ¹'
                }
            };

            const cropInfo = crops[crop];
            showNotification(`ØªØ­Ù„ÙŠÙ„ ${cropInfo.name} ${cropInfo.icon}: ${cropInfo.analysis}`);
        }

        function showNotification(message) {
            // Create notification element
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                left: 50%;
                transform: translateX(-50%);
                background: linear-gradient(135deg, #27ae60, #2ecc71);
                color: white;
                padding: 12px 20px;
                border-radius: 25px;
                font-size: 14px;
                z-index: 2000;
                animation: slideDown 0.3s ease-out;
                box-shadow: 0 5px 20px rgba(39, 174, 96, 0.3);
                max-width: 90%;
                text-align: center;
            `;
            notification.textContent = message;
            
            // Add animation
            const style = document.createElement('style');
            style.textContent = `
                @keyframes slideDown {
                    from { opacity: 0; transform: translateX(-50%) translateY(-20px); }
                    to { opacity: 1; transform: translateX(-50%) translateY(0); }
                }
            `;
            document.head.appendChild(style);
            
            document.body.appendChild(notification);
            
            // Remove notification after 4 seconds
            setTimeout(() => {
                notification.style.animation = 'slideDown 0.3s ease-out reverse';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, 4000);
        }

        // Initialize demo
        document.addEventListener('DOMContentLoaded', function() {
            showNotification('Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø±Ø§Ø¶ÙŠ Ø§Ù„Ø²Ø±Ø§Ø¹ÙŠØ©! ğŸšœ');
            
            // Animate progress bars on load
            setTimeout(() => {
                const progressBars = document.querySelectorAll('.progress-fill');
                progressBars.forEach((bar, index) => {
                    setTimeout(() => {
                        const width = bar.style.width;
                        bar.style.width = '0%';
                        setTimeout(() => {
                            bar.style.width = width;
                        }, 100);
                    }, index * 200);
                });
            }, 500);

            // Simulate real-time crop monitoring
            setInterval(() => {
                updateCropData();
            }, 25000);
        });

        function updateCropData() {
            showNotification('ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ø§ØµÙŠÙ„ Ù…Ù† Ø§Ù„Ø£Ù‚Ù…Ø§Ø± Ø§Ù„ØµÙ†Ø§Ø¹ÙŠØ©... ğŸ›°ï¸');
            
            // Simulate random updates to crop progress
            const progressBars = document.querySelectorAll('.progress-fill');
            progressBars.forEach(bar => {
                const currentWidth = parseInt(bar.style.width);
                const change = Math.floor(Math.random() * 4) - 2; // Random change -2 to +2
                const newWidth = Math.max(0, Math.min(100, currentWidth + change));
                bar.style.width = newWidth + '%';
            });
        }

        // Handle clicks outside modal
        window.addEventListener('message', function(event) {
            if (event.data === 'closeModal') {
                window.close();
            }
        });

        // Add interactive effects to zones
        document.querySelectorAll('.field-zone').forEach(zone => {
            zone.addEventListener('mouseenter', function() {
                this.style.borderWidth = '3px';
                this.style.borderColor = '#f39c12';
            });
            
            zone.addEventListener('mouseleave', function() {
                this.style.borderWidth = '2px';
                this.style.borderColor = 'white';
            });
        });
    </script>
</body>
</html>
