/* ====== ULTRA AGGRESSIVE Mobile Loading Screen Fix ====== */

/* Mobile Loading Screen Auto-Hide Animation */
@media screen and (max-width: 768px) {
    #loading-screen {
        animation: mobileLoadingAutoHide 1s ease-in-out 0.5s forwards !important;
        pointer-events: none !important;
    }
    
    @keyframes mobileLoadingAutoHide {
        0% {
            opacity: 1;
            visibility: visible;
            transform: scale(1);
        }
        50% {
            opacity: 0.5;
            transform: scale(0.9);
        }
        100% {
            opacity: 0 !important;
            visibility: hidden !important;
            transform: scale(0) !important;
            display: none !important;
            z-index: -9999 !important;
        }
    }
}

/* Touch Device Loading Screen Auto-Hide */
@media (hover: none) and (pointer: coarse) {
    #loading-screen {
        animation: touchDeviceAutoHide 0.8s ease-in-out 0.3s forwards !important;
        pointer-events: none !important;
    }
    
    @keyframes touchDeviceAutoHide {
        0% {
            opacity: 1;
            visibility: visible;
        }
        100% {
            opacity: 0 !important;
            visibility: hidden !important;
            display: none !important;
            z-index: -9999 !important;
        }
    }
}

/* Small Screen Emergency Override */
@media screen and (max-width: 480px) {
    #loading-screen {
        animation: smallScreenEmergencyHide 0.6s ease-in-out 0.2s forwards !important;
        max-height: 0 !important;
        overflow: hidden !important;
    }
    
    @keyframes smallScreenEmergencyHide {
        0% {
            opacity: 1;
            max-height: 100vh;
        }
        100% {
            opacity: 0 !important;
            max-height: 0 !important;
            visibility: hidden !important;
            display: none !important;
            pointer-events: none !important;
        }
    }
}

/* Mobile Portrait Emergency Fix */
@media screen and (max-width: 768px) and (orientation: portrait) {
    #loading-screen {
        animation: portraitEmergencyHide 0.7s ease-in-out 0.25s forwards !important;
    }
    
    @keyframes portraitEmergencyHide {
        0% {
            opacity: 1;
            transform: translateY(0);
        }
        50% {
            opacity: 0.3;
            transform: translateY(-20px);
        }
        100% {
            opacity: 0 !important;
            transform: translateY(-100vh) !important;
            visibility: hidden !important;
            display: none !important;
        }
    }
}

/* High DPI Mobile Screens */
@media screen and (max-width: 768px) and (-webkit-min-device-pixel-ratio: 2) {
    #loading-screen {
        animation: highDPIAutoHide 0.5s ease-in-out 0.1s forwards !important;
    }
    
    @keyframes highDPIAutoHide {
        to {
            opacity: 0 !important;
            visibility: hidden !important;
            display: none !important;
            transform: scale(0) !important;
        }
    }
}

/* Loading Screen Hidden State for Mobile */
@media screen and (max-width: 768px) {
    #loading-screen.mobile-hidden,
    #loading-screen.hidden {
        display: none !important;
        opacity: 0 !important;
        visibility: hidden !important;
        z-index: -9999 !important;
        pointer-events: none !important;
        position: absolute !important;
        top: -100vh !important;
        left: -100vw !important;
    }
}

/* Force Hide Loading Screen on Mobile after 2 seconds */
@media screen and (max-width: 768px) {
    #loading-screen {
        animation: forceHideAfterDelay 0.1s ease-in-out 2s forwards !important;
    }
    
    @keyframes forceHideAfterDelay {
        to {
            display: none !important;
            opacity: 0 !important;
            visibility: hidden !important;
            z-index: -9999 !important;
            transform: scale(0) !important;
            pointer-events: none !important;
        }
    }
}

/* Emergency CSS Override for Stubborn Loading Screens */
.loading-screen-destroyed {
    display: none !important;
    opacity: 0 !important;
    visibility: hidden !important;
    z-index: -9999 !important;
    position: absolute !important;
    top: -100vh !important;
    left: -100vw !important;
    pointer-events: none !important;
    transform: scale(0) !important;
    max-height: 0 !important;
    max-width: 0 !important;
    overflow: hidden !important;
}

/* Mobile-Specific Loading Screen Improvements */
@media screen and (max-width: 768px) {
    /* Faster loader animation */
    .loader-circle {
        animation-duration: 0.5s !important;
    }
    
    /* Smaller loading text */
    .loader h3 {
        font-size: 14px !important;
        opacity: 0.7 !important;
    }
    
    /* Quick fade out effect */
    .loader {
        animation: mobileFadeOut 0.3s ease-in-out 1s forwards !important;
    }
    
    @keyframes mobileFadeOut {
        to {
            opacity: 0 !important;
            transform: scale(0.8) !important;
        }
    }
}
